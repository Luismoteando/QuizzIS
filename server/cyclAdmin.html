<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Panel de administración | Ciclos Formativos</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/all.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <div class="container text-center">
        <div class="row mt-3">
            <div class="col-md-12">
                <nav>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="index.html">Categorías</a>
                        </li>
                        <li class="breadcrumb-item active">
                            Ciclos Formativos
                        </li>
                    </ol>
                </nav>
            </div>
        </div>

        <ul class="nav nav-pills nav-justified mb-3" id="pills-tab-first" role="tablist">
            <li class="nav-item pill">
                <a class="nav-link active" id="pills-controles-tab" data-toggle="pill" href="#pills-controles" role="tab" aria-controls="pills-home" aria-selected="true">Controles</a>
            </li>
            <li class="nav-item pill">
                <a class="nav-link" id="pills-estado-tab" data-toggle="pill" href="#pills-estado" role="tab" aria-controls="pills-profile" aria-selected="false">Estado del concurso</a>
            </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-controles" role="tabpanel" aria-labelledby="pills-home-tab">
                <div class="container-fluid">
                    <div class="row" style="padding: 10px;">
                        <div class="col-md-12">
                            <div class="page-header text-center">
                                <h3><strong>Controles</strong></h3>
                            </div>
                            <div class="row text-center" style="padding: 10px;">

                                <div class="col-md-12 col-sm-12">
                                    <ul class="nav nav-pills nav-justified mt-3 mb-3" id="pills-tab-second" role="tablist">
                                        <li class="nav-item pill">
                                            <a class="nav-link active" id="tabPreguntas" data-toggle="pill" href="#divPreguntas" role="tab" aria-controls="pills-home" aria-selected="true">Preguntas</a>
                                        </li>
                                        <li class="nav-item pill">
                                            <a class="nav-link" id="tabEntradillas" data-toggle="pill" href="#divEntradillas" role="tab" aria-controls="pills-profile" aria-selected="false">Entradillas</a>
                                        </li>
                                        <li class="nav-item pill">
                                            <a class="nav-link" id="tabPuntuaciones" data-toggle="pill" href="#divPuntuaciones" role="tab" aria-controls="pills-profile" aria-selected="false">Puntuaciones</a>
                                        </li>
                                    </ul>

                                    <div class="tab-content" id="pills-tabContent">
                                        <div class="tab-pane fade show active" id="divPreguntas" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Preguntas</h4>
                                                <ul class="nav nav-pills nav-justified mt-4 mb-3" id="pills-tab-third" role="tablist">
                                                    <li class="nav-item pill">
                                                        <a class="nav-link active" id="tabObligatorias" data-toggle="pill" href="#divObligatorias" role="tab" aria-controls="pills-home" aria-selected="true">Obligatorias</a>
                                                    </li>
                                                    <li class="nav-item pill">
                                                        <a class="nav-link" id="tabGenerales" data-toggle="pill" href="#divGenerales" role="tab" aria-controls="pills-profile" aria-selected="false">Generales</a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content" id="pills-tabContent">
                                                    <div class="tab-pane fade show active" id="divObligatorias" role="tabpanel" aria-labelledby="pills-home-tab">
                                                        <div class="col-md-12">
                                                            <img id="imgSolucion1" style="width: 70%;" src="media/solutions/cycl/mandatory/4.png">
                                                            <div class="row controls">
                                                                <button id="btnAntPregO" type="button" class="btn btn-light">
                                                                    <i class="fas fa-backward"></i><span> Anterior</span>
                                                                </button>

                                                                <button id="btnPlayPregO" type="button" class="btn btn-light"><i class="fas fa-pause"></i><span> Pausar</span></button>

                                                                <button id="btnSigPregO" type="button" class="btn btn-light">
                                                                    <i class="fas fa-forward"></i><span> Siguiente</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="divGenerales" role="tabpanel" aria-labelledby="pills-home-tab">
                                                        <div class="col-md-12">
                                                            <img id="imgSolucion2" style="width: 70%;" src="media/solutions/cycl/general/1.png">
                                                            <div class="row controls">
                                                                <button id="btnAntPregG" type="button" class="btn btn-light">
                                                                    <i class="fas fa-backward"></i><span> Anterior</span>
                                                                </button>

                                                                <button id="btnPlayPregG" type="button" class="btn btn-light"><i class="fas fa-pause"></i><span> Pausar</span></button>

                                                                <button id="btnSigPregG" type="button" class="btn btn-light">
                                                                    <i class="fas fa-forward"></i><span> Siguiente</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row timers">
                                                    <button id="btnTempo" type="button" class="btn btn-light">
                                                        <i class="fas fa-stopwatch"></i><span> 16”</span>
                                                    </button>
                                                </div>

                                                <div class="row controls">
                                                    <button id="btnUnaCuatroH" type="button" class="btn btn-light">
                                                        <i class="fas fa-ellipsis-v"></i><span> Cuatro opciones</span>
                                                    </button>

                                                    <button id="btnUnaCuatroV" type="button" class="btn btn-light">
                                                        <i class="fas fa-ellipsis-v"></i><span> Cuatro con imagen</span>
                                                    </button>

                                                    <button id="btnUnaTres" type="button" class="btn btn-light">
                                                        <i class="fas fa-ellipsis-v"></i><span> Tres opciones</span>
                                                    </button>
                                                </div>

                                                <div id="divCuatroOpH">
                                                    <div class="row options">
                                                        <button id="btnPrimeraCuatroH" type="button" class="btn btn-light">
                                                            Opción A
                                                        </button>

                                                        <button id="btnTerceraCuatroH" type="button" class="btn btn-light">
                                                            Opción C
                                                        </button>
                                                    </div>
                                                    <div class="row options">
                                                        <button id="btnSegundaCuatroH" type="button" class="btn btn-light">
                                                            Opción B
                                                        </button>

                                                        <button id="btnCuartaCuatroH" type="button" class="btn btn-light">
                                                            Opción D
                                                        </button>
                                                    </div>
                                                </div>

                                                <div id="divCuatroOpV">
                                                    <div class="row timers">
                                                        <button id="btnPrimeraCuatroV" type="button" class="btn btn-light">
                                                            Opción A
                                                        </button>
                                                    </div>
                                                    <div class="row timers">
                                                        <button id="btnSegundaCuatroV" type="button" class="btn btn-light">
                                                            Opción B
                                                        </button>
                                                    </div>
                                                    <div class="row timers">
                                                        <button id="btnTerceraCuatroV" type="button" class="btn btn-light">
                                                            Opción C
                                                        </button>
                                                    </div>
                                                    <div class="row timers">
                                                        <button id="btnCuartaCuatroV" type="button" class="btn btn-light">
                                                            Opción D
                                                        </button>
                                                    </div>
                                                </div>

                                                <div id="divTresOp">
                                                    <div class="row controls">
                                                        <button id="btnPrimeraTres" type="button" class="btn btn-light">
                                                            Opción A
                                                        </button>

                                                        <button id="btnSegundaTres" type="button" class="btn btn-light">
                                                            Opción B
                                                        </button>

                                                        <button id="btnTerceraTres" type="button" class="btn btn-light">
                                                            Opción C
                                                        </button>
                                                    </div>
                                                </div>

                                                <div id="divSolucion" class="row solution">
                                                    <button id="btnSolucion" type="button" class="btn btn-light">
                                                        <i class="fas fa-check-circle"></i><span> Mostrar solución</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="divEntradillas" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Entradillas</h4>
                                                <div class="row entradillas">
                                                    <div class="col-md-4">
                                                        <button id="btnEntr1" type="button" class="btn btn-light">
                                                            1
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr2" type="button" class="btn btn-light">
                                                            2
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr3" type="button" class="btn btn-light">
                                                            3
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row entradillas">
                                                    <div class="col-md-4">
                                                        <button id="btnEntr4" type="button" class="btn btn-light">
                                                            4
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr5" type="button" class="btn btn-light">
                                                            5
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr6" type="button" class="btn btn-light">
                                                            6
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="divPuntuaciones" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Puntuaciones</h4>
                                                <div class="row puntuaciones">
                                                    <div class="col-md-12">
                                                        <button id="btnRanking" type="button" class="btn btn-light">
                                                            <i class="fas fa-list-ol"></i> Mostrar puntuaciones
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-sm-12">
                                    <div class="jumbotron m-1">
                                        <h4>Marcadores</h4>
                                        <div class="row pushbuttons">
                                            <button id="btnBloquear" type="button" class="btn btn-light"><i class="fas fa-lock"></i><span> Desbloquear pulsadores</span></button>
                                        </div>
                                        <div class="row pushbuttons">
                                            <div class="col-md-4 col-sm-12">
                                                <h3 id="hScoreA">0</h3>
                                                <h5 id="hEquipoA">Equipo A</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaA" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoA" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaA" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-sm-12">
                                                <h3 id="hScoreB">0</h3>
                                                <h5 id="hEquipoB">Equipo B</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaB" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoB" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaB" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-sm-12">
                                                <h3 id="hScoreC">0</h3>
                                                <h5 id="hEquipoC">Equipo C</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaC" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoC" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaC" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="pills-estado" role="tabpanel" aria-labelledby="pills-profile-tab">
                <div class="container-fluid">
                    <div class="row" style="padding: 10px;">
                        <div class="col-md-12">
                            <div class="page-header text-center">
                                <h3><strong>Estado del concurso</strong></h3>
                            </div>
                            <div class="row" style="padding: 10px;">
                                <div class="col-md-12 col-sm-12">
                                    <div class="jumbotron m-1">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <img id="imgSolucion3" style="width: 100%;">
                                            </div>
                                            <div class="col-md-6">
                                                <h5>Ronda actual</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        Fase: <strong id="liFase"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Categoría: <strong id="liCategoria"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Pregunta actual: <strong id="liPregunta"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Tiempo restante: <strong id="liTiempo"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Turnos: <strong id="liTurno1"></strong><strong id="liTurno2"></strong><strong id="liTurno3"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Opción seleccionada: <strong id="liOpcion"></strong>
                                                    </li>

                                                </ul>

                                                <h5>Puntuaciones</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        <span id="liEquipoA">Equipo A: </span><strong id="liScoreA"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        <span id="liEquipoB">Equipo B: </span><strong id="liScoreB"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        <span id="liEquipoC">Equipo C: </span><strong id="liScoreC"></strong>
                                                    </li>
                                                </ul>

                                                <h5>Preguntas restantes</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        Preguntas Obligatorias: <strong id="liObligatorias"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Preguntas de Cultura General: <strong id="liGenerales"></strong>
                                                    </li>
                                                </ul>

                                                <h5>Espectadores</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        1º Ganador: <strong id="liEspect1"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        2º Ganador: <strong id="liEspect2"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        3º Ganador: <strong id="liEspect3"></strong>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row pb-3">
            <div class="col-md-12">
                <a href="configuration.html">
                    <button id="btnConfig" type="button" class="btn btn-outline-dark">
                        <i class="fas fa-cog"></i> Configuración
                    </button>
                </a>
            </div>
        </div>

        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script>
            var width;
            var playing = true;
            var locked = false;
            var turn = null;
            var phase = "bach";

            $(document).ready(function() {
                runPoll();
            });

            function runPoll() {
                setTimeout(function() {
                    $.ajax({
                        url: 'http://localhost:8888/server/server.php',
                        success: function(response) {
                            updateState(response);
                        },
                        dataType: "json",
                        complete: function() {
                            runPoll();
                        }
                    })
                }, 100);
            };

            btnPlayPregO.onclick = function() {
                if (playing == false) {
                    $.post("server.php", {
                        play: true,
                        mode: "questions",
                        category: "mandatory",
                        lock: false
                    });
                } else {
                    $.post("server.php", {
                        play: false,
                        mode: "questions",
                        category: "mandatory",
                        lock: true
                    });
                }
            };

            btnAntPregO.onclick = function() {
                $.post("server.php", {
                    mode: "questions",
                    category: "mandatory",
                    previous: true,
                    play: true,
                    solution: false,
                    lock: false,
                    sfx: 0
                });
                divSolucion.style.display = "none";
            };

            btnSigPregO.onclick = function() {
                $.post("server.php", {
                    mode: "questions",
                    category: "mandatory",
                    next: true,
                    play: true,
                    solution: false,
                    lock: false,
                    sfx: 0
                });
                divSolucion.style.display = "none";
            };

            btnPlayPregG.onclick = function() {
                if (playing == false) {
                    $.post("server.php", {
                        play: true,
                        mode: "questions",
                        category: "general",
                        lock: false
                    });
                } else {
                    $.post("server.php", {
                        play: false,
                        mode: "questions",
                        category: "general",
                        lock: true
                    });
                }
            };

            btnAntPregG.onclick = function() {
                $.post("server.php", {
                    mode: "questions",
                    category: "general",
                    previous: true,
                    play: true,
                    solution: false,
                    lock: false,
                    sfx: 0
                });
                divSolucion.style.display = "none";
            };

            btnSigPregG.onclick = function() {
                $.post("server.php", {
                    mode: "questions",
                    category: "general",
                    next: true,
                    play: true,
                    solution: false,
                    lock: false,
                    sfx: 0
                });
                divSolucion.style.display = "none";
            };

            btnTempo.onclick = function() {
                time = 17;
                timeout();
            }

            function timeout() {
                if (time >= 0) {
                    time -= 1;
                    if (time <= 3) {
                        $.post("server.php", {
                            timer: time,
                            sfx: 1
                        });
                    } else {
                        $.post("server.php", {
                            timer: time,
                        });
                    }

                    setTimeout("timeout()", 1000);
                } else {
                    return
                }
            }

            btnUnaCuatroH.onclick = function() {
                divSolucion.style.display = "none";
                if (divCuatroOpH.style.display == "none") {
                    divTresOp.style.display = "none";
                    divCuatroOpV.style.display = "none";
                    divCuatroOpH.style.display = "block";

                } else {
                    divTresOp.style.display = "none";
                    divCuatroOpH.style.display = "none";
                    divCuatroOpV.style.display = "none";
                }
            }

            btnUnaCuatroV.onclick = function() {
                divSolucion.style.display = "none";
                if (divCuatroOpV.style.display == "none") {
                    divTresOp.style.display = "none";
                    divCuatroOpH.style.display = "none";
                    divCuatroOpV.style.display = "block";

                } else {
                    divTresOp.style.display = "none";
                    divCuatroOpV.style.display = "none";
                    divCuatroOpH.style.display = "none";
                }
            }

            btnUnaTres.onclick = function() {
                divSolucion.style.display = "none";
                if (divTresOp.style.display == "none") {
                    divCuatroOpH.style.display = "none";
                    divTresOp.style.display = "block";
                    divCuatroOpV.style.display = "none";
                } else {
                    divCuatroOpH.style.display = "none";
                    divTresOp.style.display = "none";
                    divCuatroOpV.style.display = "none";
                }
            }

            btnPrimeraCuatroH.onclick = function() {
                $.post("server.php", {
                    option: "14h",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnSegundaCuatroH.onclick = function() {
                $.post("server.php", {
                    option: "24h",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnTerceraCuatroH.onclick = function() {
                $.post("server.php", {
                    option: "34h",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnCuartaCuatroH.onclick = function() {
                $.post("server.php", {
                    option: "44h",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnPrimeraCuatroV.onclick = function() {
                $.post("server.php", {
                    option: "14v",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnSegundaCuatroV.onclick = function() {
                $.post("server.php", {
                    option: "24v",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnTerceraCuatroV.onclick = function() {
                $.post("server.php", {
                    option: "34v",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnCuartaCuatroV.onclick = function() {
                $.post("server.php", {
                    option: "44v",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnPrimeraTres.onclick = function() {
                $.post("server.php", {
                    option: "13",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnSegundaTres.onclick = function() {
                $.post("server.php", {
                    option: "23",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnTerceraTres.onclick = function() {
                $.post("server.php", {
                    option: "33",
                    solution: false,
                    lock: false,
                    sfx: 2
                });
                divSolucion.style.display = "block";
            };

            btnSolucion.onclick = function() {
                $.post("server.php", {
                    solution: true,
                    lock: true
                });
            }

            btnEntr1.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 1,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnEntr2.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 2,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnEntr3.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 3,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnEntr4.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 4,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnEntr5.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 5,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnEntr6.onclick = function() {
                $.post("server.php", {
                    mode: "leads",
                    lead: 6,
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnRanking.onclick = function() {
                $.post("server.php", {
                    mode: "ranking",
                    play: true,
                    solution: false,
                    lock: true
                });
            }

            btnBloquear.onclick = function() {
                if (locked == false) {
                    $.post("server.php", {
                        lock: true
                    });
                } else {
                    $.post("server.php", {
                        lock: false
                    });
                }
            }

            btnCorrectaA.onclick = function() {
                if (turn == "a") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 5
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "a",
                        lock: true,
                        sfx: 5
                    });
                }
            };

            btnTurnoA.onclick = function() {
                if (turn == "a") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "a",
                        lock: true
                    });
                }
            }

            btnIncorrectaA.onclick = function() {
                if (turn == "a") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 4
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "a",
                        lock: true,
                        sfx: 4
                    });
                }
            };

            btnAdd5A.onclick = function() {
                $.post("server.php", {
                    add5A: true
                });
            };

            btnSub5A.onclick = function() {
                $.post("server.php", {
                    sub5A: true
                });
            };

            btnAdd10A.onclick = function() {
                $.post("server.php", {
                    add10A: true
                });
            };

            btnSub10A.onclick = function() {
                $.post("server.php", {
                    sub10A: true
                });
            };

            btnAdd20A.onclick = function() {
                $.post("server.php", {
                    add20A: true
                });
            };

            btnSub20A.onclick = function() {
                $.post("server.php", {
                    sub20A: true
                });
            };

            btnCorrectaB.onclick = function() {
                if (turn == "b") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 5
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "b",
                        lock: true,
                        sfx: 5
                    });
                }
            };

            btnTurnoB.onclick = function() {
                if (turn == "b") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "b",
                        lock: true
                    });
                }
            }

            btnIncorrectaB.onclick = function() {
                if (turn == "b") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 4
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "b",
                        lock: true,
                        sfx: 4
                    });
                }
            };

            btnAdd5B.onclick = function() {
                $.post("server.php", {
                    add5B: true
                });
            };

            btnSub5B.onclick = function() {
                $.post("server.php", {
                    sub5B: true
                });
            };

            btnAdd10B.onclick = function() {
                $.post("server.php", {
                    add10B: true
                });
            };

            btnSub10B.onclick = function() {
                $.post("server.php", {
                    sub10B: true
                });
            };

            btnAdd20B.onclick = function() {
                $.post("server.php", {
                    add20B: true
                });
            };

            btnSub20B.onclick = function() {
                $.post("server.php", {
                    sub20B: true
                });
            };

            btnCorrectaC.onclick = function() {
                if (turn == "c") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 5
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "c",
                        lock: true,
                        sfx: 5
                    });
                }
            };

            btnTurnoC.onclick = function() {
                if (turn == "c") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "c",
                        lock: true
                    });
                }
            }

            btnIncorrectaC.onclick = function() {
                if (turn == "c") {
                    $.post("server.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 4
                    });
                } else {
                    $.post("server.php", {
                        turnAux: "c",
                        lock: true,
                        sfx: 4
                    });
                }
            };

            btnAdd5C.onclick = function() {
                $.post("server.php", {
                    add5C: true
                });
            };

            btnSub5C.onclick = function() {
                $.post("server.php", {
                    sub5C: true
                });
            };

            btnAdd10C.onclick = function() {
                $.post("server.php", {
                    add10C: true
                });
            };

            btnSub10C.onclick = function() {
                $.post("server.php", {
                    sub10C: true
                });
            };

            btnAdd20C.onclick = function() {
                $.post("server.php", {
                    add20C: true
                });
            };

            btnSub20C.onclick = function() {
                $.post("server.php", {
                    sub20C: true
                });
            };

            function updateState(response) {
                width = $(window).width();
                phase = response[0].value;
                playing = response[8].value;
                locked = response[12].value;
                turn = response[13].value[0];

                imgSolucion1.src = "media/solutions/cycl/mandatory/" + response[6].value[0] + ".png";
                imgSolucion2.src = "media/solutions/cycl/general/" + response[7].value[0] + ".png";
                if (response[3].value == "mandatory") {
                    imgSolucion3.src = "media/solutions/cycl/mandatory/" + response[6].value[0] + ".png";
                } else if (response[3].value == "general") {
                    imgSolucion3.src = "media/solutions/cycl/general/" + response[7].value[0] + ".png";
                }

                if (phase == "bach") {
                    liFase.innerHTML = "Bachillerato";
                } else if (phase == "cycl") {
                    liFase.innerHTML = "Ciclos Formativos";
                }

                if (response[3].value == "mandatory") {
                    liCategoria.innerHTML = "Obligatoria";
                    liPregunta.innerHTML = response[6].value[0];
                } else if (response[3].value == "general") {
                    liCategoria.innerHTML = "Cultura General";
                    liPregunta.innerHTML = response[7].value[0];
                }
                liObligatorias.innerHTML = response[6].value[1] - response[6].value[0];
                liGenerales.innerHTML = response[7].value[1] - response[7].value[0];

                if (width < 575.98) {
                    if (playing == false) {
                        btnPlayPregO.innerHTML = '<i class="fas fa-play"></i>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-play"></i>';
                    } else {
                        btnPlayPregO.innerHTML = '<i class="fas fa-pause"></i>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-pause"></i>';
                    }
                } else {
                    if (playing == false) {
                        btnPlayPregO.innerHTML = '<i class="fas fa-play"></i><span> Reproducir</span>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-play"></i><span> Reproducir</span>';
                    } else {
                        btnPlayPregO.innerHTML = '<i class="fas fa-pause"></i><span> Pausar</span>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-pause"></i><span> Pausar</span>';
                    }
                }

                if (response[9].value > 0) {
                    liTiempo.innerHTML = response[9].value;
                } else {
                    liTiempo.innerHTML = 0;
                }

                if (response[10].value == 13 || response[10].value == 14) {
                    liOpcion.innerHTML = 1;
                } else if (response[10].value == 23 || response[10].value == 24) {
                    liOpcion.innerHTML = 2;
                } else if (response[10].value == 33 || response[10].value == 34) {
                    liOpcion.innerHTML = 3;
                } else if (response[10].value == 44) {
                    liOpcion.innerHTML = 4;
                } else {
                    liOpcion.innerHTML = "ninguna";
                }

                if (width < 575.98) {
                    if (locked == false) {
                        btnBloquear.innerHTML = '<i class="fas fa-lock-open"></i>';
                    } else {
                        btnBloquear.innerHTML = '<i class="fas fa-lock"></i>';
                    }
                } else {
                    if (locked == false) {
                        btnBloquear.innerHTML = '<i class="fas fa-lock-open"></i><span> Bloquear pulsadores</span>';
                    } else {
                        btnBloquear.innerHTML = '<i class="fas fa-lock"></i><span> Desbloquear pulsadores</span>';
                    }
                }

                hEquipoA.innerHTML = response[17].value[0];
                hEquipoB.innerHTML = response[18].value[0];
                hEquipoC.innerHTML = response[19].value[0];
                hScoreA.innerHTML = response[17].value[1];
                hScoreB.innerHTML = response[18].value[1];
                hScoreC.innerHTML = response[19].value[1];

                if (turn == "a") {
                    btnIncorrectaA.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                } else if (turn == "b") {
                    btnIncorrectaB.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                } else if (turn == "c") {
                    btnIncorrectaC.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                } else {
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                }

                if (turn == "a") {
                    liTurno1.innerHTML = response[17].value[0];
                } else if (turn == "b") {
                    liTurno1.innerHTML = response[18].value[0];
                } else if (turn == "c") {
                    liTurno1.innerHTML = response[19].value[0];
                } else {
                    liTurno1.innerHTML = "ninguno";
                }
                if (response[13].value[1] == "a") {
                    liTurno2.innerHTML = ", " + response[17].value[0];
                } else if (response[13].value[1] == "b") {
                    liTurno2.innerHTML = ", " + response[18].value[0];
                } else if (response[13].value[1] == "c") {
                    liTurno2.innerHTML = ", " + response[19].value[0];
                } else {
                    liTurno2.innerHTML = "";
                }
                if (response[13].value[2] == "a") {
                    liTurno3.innerHTML = ", " + response[17].value[0];
                } else if (response[13].value[2] == "b") {
                    liTurno3.innerHTML = ", " + response[18].value[0];
                } else if (response[13].value[2] == "c") {
                    liTurno3.innerHTML = ", " + response[19].value[0];
                } else {
                    liTurno3.innerHTML = "";
                }

                if (response[17].value[0] != "") {
                    liEquipoA.innerHTML = response[17].value[0] + ": ";
                }
                if (response[18].value[0] != "") {
                    liEquipoB.innerHTML = response[18].value[0] + ": ";
                }
                if (response[19].value[0] != "") {
                    liEquipoC.innerHTML = response[19].value[0] + ": ";
                }
                liScoreA.innerHTML = response[17].value[1];
                liScoreB.innerHTML = response[18].value[1];
                liScoreC.innerHTML = response[19].value[1];

                liEspect1.innerHTML = response[21].value[0];
                liEspect2.innerHTML = response[21].value[1];
                liEspect3.innerHTML = response[21].value[2];
            }
        </script>
</body>

</html>
