<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Panel de administración | Ciclos Formativos</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <div class="container text-center">
        <div class="row mt-3">
            <div class="col-md-12">
                <nav>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="index.html">Categorías</a>
                        </li>
                        <li class="breadcrumb-item active">
                            Ciclos Formativos
                        </li>
                    </ol>
                </nav>
            </div>
        </div>

        <ul class="nav nav-pills nav-justified mb-3" id="pills-tab-first" role="tablist">
            <li class="nav-item pill">
                <a class="nav-link active" id="pills-controles-tab" data-toggle="pill" href="#pills-controles" role="tab" aria-controls="pills-home" aria-selected="true">Controles</a>
            </li>
            <li class="nav-item pill">
                <a class="nav-link" id="pills-estado-tab" data-toggle="pill" href="#pills-estado" role="tab" aria-controls="pills-profile" aria-selected="false">Estado del concurso</a>
            </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-controles" role="tabpanel" aria-labelledby="pills-home-tab">
                <div class="container-fluid">
                    <div class="row" style="padding: 10px;">
                        <div class="col-md-12">
                            <div class="page-header text-center">
                                <h3><strong>Controles</strong></h3>
                            </div>
                            <div class="row text-center" style="padding: 10px;">

                                <div class="col-md-12 col-sm-12">
                                    <ul class="nav nav-pills nav-justified mt-3 mb-3" id="pills-tab-second" role="tablist">
                                        <li class="nav-item pill">
                                            <a class="nav-link active" id="tabPreguntas" data-toggle="pill" href="#divPreguntas" role="tab" aria-controls="pills-home" aria-selected="true">Preguntas</a>
                                        </li>
                                        <li class="nav-item pill">
                                            <a class="nav-link" id="tabEntradillas" data-toggle="pill" href="#divEntradillas" role="tab" aria-controls="pills-profile" aria-selected="false">Entradillas</a>
                                        </li>
                                        <li class="nav-item pill">
                                            <a class="nav-link" id="tabPuntuaciones" data-toggle="pill" href="#divPuntuaciones" role="tab" aria-controls="pills-profile" aria-selected="false">Puntuaciones</a>
                                        </li>
                                    </ul>

                                    <div class="tab-content" id="pills-tabContent">
                                        <div class="tab-pane fade show active" id="divPreguntas" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Preguntas</h4>
                                                <ul class="nav nav-pills nav-justified mt-4 mb-3" id="pills-tab-third" role="tablist">
                                                    <li class="nav-item pill">
                                                        <a class="nav-link active" id="tabObligatorias" data-toggle="pill" href="#divObligatorias" role="tab" aria-controls="pills-home" aria-selected="true">Obligatorias</a>
                                                    </li>
                                                    <li class="nav-item pill">
                                                        <a class="nav-link" id="tabGenerales" data-toggle="pill" href="#divGenerales" role="tab" aria-controls="pills-profile" aria-selected="false">Generales</a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content" id="pills-tabContent">
                                                    <div class="tab-pane fade show active" id="divObligatorias" role="tabpanel" aria-labelledby="pills-home-tab">
                                                        <div class="col-md-12">
                                                            <img id="imgSolucion1" style="width: 70%;" src="media/solutions/cycl/mandatory/4.png">
                                                            <div class="row controls">
                                                                <button id="btnAntPregO" type="button" class="btn btn-light">
                                                                    <i class="fas fa-backward"></i><span> Anterior</span>
                                                                </button>

                                                                <button id="btnPlayPregO" type="button" class="btn btn-light"><i class="fas fa-pause"></i><span> Pausar</span></button>

                                                                <button id="btnSigPregO" type="button" class="btn btn-light">
                                                                    <i class="fas fa-forward"></i><span> Siguiente</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="divGenerales" role="tabpanel" aria-labelledby="pills-home-tab">
                                                        <div class="col-md-12">
                                                            <img id="imgSolucion2" style="width: 70%;" src="media/solutions/cycl/general/1.png">
                                                            <div class="row controls">
                                                                <button id="btnAntPregG" type="button" class="btn btn-light">
                                                                    <i class="fas fa-backward"></i><span> Anterior</span>
                                                                </button>

                                                                <button id="btnPlayPregG" type="button" class="btn btn-light"><i class="fas fa-pause"></i><span> Pausar</span></button>

                                                                <button id="btnSigPregG" type="button" class="btn btn-light">
                                                                    <i class="fas fa-forward"></i><span> Siguiente</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row timers">
                                                    <button id="btnTempo" type="button" class="btn btn-light">
                                                        <i class="fas fa-stopwatch"></i><span> 16”</span>
                                                    </button>
                                                </div>

                                                <div class="row types">
                                                    <button id="btnUnaCuatro" type="button" class="btn btn-light">
                                                        <i class="fas fa-ellipsis-v"></i><span> Una entre cuatro</span>
                                                    </button>

                                                    <button id="btnUnaTres" type="button" class="btn btn-light">
                                                        <i class="fas fa-ellipsis-v"></i><span> Una entre tres</span>
                                                    </button>
                                                </div>

                                                <div id="divCuatroOp">
                                                    <div class="row options">
                                                        <button id="btnPrimeraCuatro" type="button" class="btn btn-light">
                                                            Opción 1
                                                        </button>

                                                        <button id="btnSegundaCuatro" type="button" class="btn btn-light">
                                                            Opción 2
                                                        </button>
                                                    </div>
                                                    <div class="row options">
                                                        <button id="btnTerceraCuatro" type="button" class="btn btn-light">
                                                            Opción 3
                                                        </button>

                                                        <button id="btnCuartaCuatro" type="button" class="btn btn-light">
                                                            Opción 4
                                                        </button>
                                                    </div>
                                                </div>

                                                <div id="divTresOp">
                                                    <div class="row controls">
                                                        <button id="btnPrimeraTres" type="button" class="btn btn-light">
                                                            Opción 1
                                                        </button>

                                                        <button id="btnSegundaTres" type="button" class="btn btn-light">
                                                            Opción 2
                                                        </button>

                                                        <button id="btnTerceraTres" type="button" class="btn btn-light">
                                                            Opción 3
                                                        </button>
                                                    </div>
                                                </div>

                                                <div id="divSolucion" class="row solution">
                                                    <button id="btnSolucion" type="button" class="btn btn-light">
                                                        <i class="fas fa-check-circle"></i><span> Mostrar solución</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="divEntradillas" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Entradillas</h4>
                                                <div class="row entradillas">
                                                    <div class="col-md-4">
                                                        <button id="btnEntr1" type="button" class="btn btn-light">
                                                            1
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr2" type="button" class="btn btn-light">
                                                            2
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr3" type="button" class="btn btn-light">
                                                            3
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row entradillas">
                                                    <div class="col-md-4">
                                                        <button id="btnEntr4" type="button" class="btn btn-light">
                                                            4
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr5" type="button" class="btn btn-light">
                                                            5
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnEntr6" type="button" class="btn btn-light">
                                                            6
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="divPuntuaciones" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <div class="jumbotron m-1">
                                                <h4>Puntuaciones</h4>
                                                <div class="row puntuaciones">
                                                    <div class="col-md-12">
                                                        <button id="btnRanking" type="button" class="btn btn-light">
                                                            <i class="fas fa-list-ol"></i> Mostrar puntuaciones
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-sm-12">
                                    <div class="jumbotron m-1">
                                        <h4>Marcadores</h4>
                                        <div class="row pushbuttons">
                                            <button id="btnBloquear" type="button" class="btn btn-light"><i class="fas fa-lock"></i><span> Desbloquear pulsadores</span></button>
                                        </div>
                                        <div class="row pushbuttons">
                                            <div class="col-md-4 col-sm-12">
                                                <h5>Marcador A</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaA" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoA" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaA" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20A" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20A" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-sm-12">
                                                <h5>Marcador B</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaB" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoB" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaB" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20B" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20B" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-sm-12">
                                                <h5>Marcador C</h5>
                                                <div class="row turnos">
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnIncorrectaC" type="button" class="btn btn-light">
                                                            <i class="far fa-times-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4 p-0">
                                                        <button id="btnTurnoC" type="button" class="btn btn-light">
                                                            <i class="far fa-dot-circle"></i>
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button id="btnCorrectaC" type="button" class="btn btn-light">
                                                            <i class="far fa-check-circle"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub5C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>5</h3>
                                                    <button id="btnAdd5C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub10C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>10</h3>
                                                    <button id="btnAdd10C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="row points">
                                                    <button id="btnSub20C" type="button" class="btn btn-light">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <h3>20</h3>
                                                    <button id="btnAdd20C" type="button" class="btn btn-light">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12">
                                    <div class="jumbotron m-1">
                                        <h4>Espectadores</h4>
                                        <div class="row">
                                            <div class="col-md-4 form-group">
                                                <label style="text-align: left;">1º Ganador</label>
                                                <input type="text" class="form-control" id="spect1">
                                            </div>
                                            <div class="col-md-4 form-group">
                                                <label style="text-align: left;">2º Ganador</label>
                                                <input type="text" class="form-control" id="spect2">
                                            </div>
                                            <div class="col-md-4 form-group">
                                                <label style="text-align: left;">3º Ganador</label>
                                                <input type="text" class="form-control" id="spect3">
                                            </div>
                                        </div>
                                        <button id="btnSubmit" class="btn btn-light">
                                            Enviar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="pills-estado" role="tabpanel" aria-labelledby="pills-profile-tab">
                <div class="container-fluid">
                    <div class="row" style="padding: 10px;">
                        <div class="col-md-12">
                            <div class="page-header text-center">
                                <h3><strong>Estado del concurso</strong></h3>
                            </div>
                            <div class="row" style="padding: 10px;">
                                <div class="col-md-12 col-sm-12">
                                    <div class="jumbotron m-1">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <img id="imgSolucion3" style="width: 100%;">
                                            </div>
                                            <div class="col-md-6">
                                                <h5>Ronda actual</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        Categoría: <strong id="liCategoria"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Pregunta actual: <strong id="liPregunta"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Tiempo restante: <strong id="liTiempo"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Turnos: <strong id="liTurno1"></strong><strong id="liTurno2"></strong><strong id="liTurno3"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Opción seleccionada: <strong id="liOpcion"></strong>
                                                    </li>

                                                </ul>

                                                <h5>Puntuaciones</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        <span id="liEquipoA">Equipo A: </span><strong id="liScoreA"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        <span id="liEquipoB">Equipo B: </span><strong id="liScoreB"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        <span id="liEquipoC">Equipo C: </span><strong id="liScoreC"></strong>
                                                    </li>
                                                </ul>

                                                <h5>Preguntas restantes</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        Preguntas Obligatorias: <strong id="liObligatorias"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        Preguntas de Cultura General: <strong id="liGenerales"></strong>
                                                    </li>
                                                </ul>

                                                <h5>Espectadores</h5>
                                                <ul style="text-align: left;">
                                                    <li class="list-item">
                                                        1º Ganador: <strong id="liEspect1"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        2º Ganador: <strong id="liEspect2"></strong>
                                                    </li>
                                                    <li class="list-item">
                                                        3º Ganador: <strong id="liEspect3"></strong>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row reset">
            <div class="col-md-12">
                <button id="btnReset" type="button" class="btn btn-outline-danger">
                    Restablecer valores
                </button>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script>
            var width;
            var playing = true;
            var locked = false;
            var turn = null;

            $(document).ready(function() {
                runPoll();
            });

            function runPoll() {
                setTimeout(function() {
                    $.ajax({
                        url: 'http://olimpiadaserver.ddns.net:8888/server/cyclServer.php',
                        success: function(response) {
                            updateState(response);
                        },
                        dataType: "json",
                        complete: function() {
                            runPoll();
                        }
                    })
                }, 100);
            };

            btnPlayPregO.onclick = function() {
                if (playing == false) {
                    $.post("cyclServer.php", {
                        play: true,
                        mode: "questions",
                        category: "mandatory"
                    });
                } else {
                    $.post("cyclServer.php", {
                        play: false,
                        mode: "questions",
                        category: "mandatory"
                    });
                }
            };

            btnAntPregO.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "questions",
                    category: "mandatory",
                    previous: true,
                    play: true,
                    solution: false
                });
                divSolucion.style.display = "none";
            };

            btnSigPregO.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "questions",
                    category: "mandatory",
                    next: true,
                    play: true,
                    solution: false
                });
                divSolucion.style.display = "none";
            };

            btnPlayPregG.onclick = function() {
                if (playing == false) {
                    $.post("cyclServer.php", {
                        play: true,
                        mode: "questions",
                        category: "general"
                    });
                } else {
                    $.post("cyclServer.php", {
                        play: false,
                        mode: "questions",
                        category: "general"
                    });
                }
            };

            btnAntPregG.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "questions",
                    category: "general",
                    previous: true,
                    play: true,
                    solution: false
                });
                divSolucion.style.display = "none";
            };

            btnSigPregG.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "questions",
                    category: "general",
                    next: true,
                    play: true,
                    solution: false
                });
                divSolucion.style.display = "none";
            };

            btnTempo.onclick = function() {
                time = 17;
                timeout();
            }

            function timeout() {
                if (time >= 0) {
                    time -= 1;
                    $.post("cyclServer.php", {
                        timer: time
                    });
                    setTimeout("timeout()", 1000);
                } else {
                    return
                }
            }

            btnUnaCuatro.onclick = function() {
                divSolucion.style.display = "none";
                if (divCuatroOp.style.display == "none") {
                    divTresOp.style.display = "none";
                    divCuatroOp.style.display = "block";

                } else {
                    divTresOp.style.display = "none";
                    divCuatroOp.style.display = "none";
                }
            }

            btnUnaTres.onclick = function() {
                divSolucion.style.display = "none";
                if (divTresOp.style.display == "none") {
                    divCuatroOp.style.display = "none";
                    divTresOp.style.display = "block";
                } else {
                    divCuatroOp.style.display = "none";
                    divTresOp.style.display = "none";
                }
            }

            btnPrimeraCuatro.onclick = function() {
                $.post("cyclServer.php", {
                    option1p4: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnSegundaCuatro.onclick = function() {
                $.post("cyclServer.php", {
                    option2p4: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnTerceraCuatro.onclick = function() {
                $.post("cyclServer.php", {
                    option3p4: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnCuartaCuatro.onclick = function() {
                $.post("cyclServer.php", {
                    option4p4: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnPrimeraTres.onclick = function() {
                $.post("cyclServer.php", {
                    option1p3: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnSegundaTres.onclick = function() {
                $.post("cyclServer.php", {
                    option2p3: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnTerceraTres.onclick = function() {
                $.post("cyclServer.php", {
                    option3p3: true,
                    lock: false
                });
                divSolucion.style.display = "block";
            };

            btnSolucion.onclick = function() {
                $.post("cyclServer.php", {
                    solution: true
                });
            }

            btnEntr1.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 1,
                    play: true,
                    solution: false
                });
            }

            btnEntr2.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 2,
                    play: true,
                    solution: false
                });
            }

            btnEntr3.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 3,
                    play: true,
                    solution: false
                });
            }

            btnEntr4.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 4,
                    play: true,
                    solution: false
                });
            }

            btnEntr5.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 5,
                    play: true,
                    solution: false
                });
            }

            btnEntr6.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "leads",
                    lead: 6,
                    play: true,
                    solution: false
                });
            }

            btnRanking.onclick = function() {
                $.post("cyclServer.php", {
                    mode: "ranking",
                    play: true,
                    solution: false
                });
            }

            btnBloquear.onclick = function() {
                if (locked == false) {
                    $.post("cyclServer.php", {
                        lock: true
                    });
                } else {
                    $.post("cyclServer.php", {
                        lock: false
                    });
                }
            }

            btnCorrectaA.onclick = function() {
                if (turn == "a") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 0
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "a",
                        lock: true
                    });
                }
            };

            btnTurnoA.onclick = function() {
                if (turn == "a") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "a",
                        lock: true
                    });
                }
            }

            btnIncorrectaA.onclick = function() {
                if (turn == "a") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 1
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "a",
                        lock: true
                    });
                }
            };

            btnAdd5A.onclick = function() {
                $.post("cyclServer.php", {
                    add5A: true
                });
            };

            btnSub5A.onclick = function() {
                $.post("cyclServer.php", {
                    sub5A: true
                });
            };

            btnAdd10A.onclick = function() {
                $.post("cyclServer.php", {
                    add10A: true
                });
            };

            btnSub10A.onclick = function() {
                $.post("cyclServer.php", {
                    sub10A: true
                });
            };

            btnAdd20A.onclick = function() {
                $.post("cyclServer.php", {
                    add20A: true
                });
            };

            btnSub20A.onclick = function() {
                $.post("cyclServer.php", {
                    sub20A: true
                });
            };

            btnCorrectaB.onclick = function() {
                if (turn == "b") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 0
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "b",
                        lock: true
                    });
                }
            };

            btnTurnoB.onclick = function() {
                if (turn == "b") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "b",
                        lock: true
                    });
                }
            }

            btnIncorrectaB.onclick = function() {
                if (turn == "b") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 1
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "b",
                        lock: true
                    });
                }
            };

            btnAdd5B.onclick = function() {
                $.post("cyclServer.php", {
                    add5B: true
                });
            };

            btnSub5B.onclick = function() {
                $.post("cyclServer.php", {
                    sub5B: true
                });
            };

            btnAdd10B.onclick = function() {
                $.post("cyclServer.php", {
                    add10B: true
                });
            };

            btnSub10B.onclick = function() {
                $.post("cyclServer.php", {
                    sub10B: true
                });
            };

            btnAdd20B.onclick = function() {
                $.post("cyclServer.php", {
                    add20B: true
                });
            };

            btnSub20B.onclick = function() {
                $.post("cyclServer.php", {
                    sub20B: true
                });
            };

            btnCorrectaC.onclick = function() {
                if (turn == "c") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 0
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "c",
                        lock: true
                    });
                }
            };

            btnTurnoC.onclick = function() {
                if (turn == "c") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "c",
                        lock: true
                    });
                }
            }

            btnIncorrectaC.onclick = function() {
                if (turn == "c") {
                    $.post("cyclServer.php", {
                        turnAux: null,
                        lock: true,
                        sfx: 1
                    });
                } else {
                    $.post("cyclServer.php", {
                        turnAux: "c",
                        lock: true
                    });
                }
            };

            btnAdd5C.onclick = function() {
                $.post("cyclServer.php", {
                    add5C: true
                });
            };

            btnSub5C.onclick = function() {
                $.post("cyclServer.php", {
                    sub5C: true
                });
            };

            btnAdd10C.onclick = function() {
                $.post("cyclServer.php", {
                    add10C: true
                });
            };

            btnSub10C.onclick = function() {
                $.post("cyclServer.php", {
                    sub10C: true
                });
            };

            btnAdd20C.onclick = function() {
                $.post("cyclServer.php", {
                    add20C: true
                });
            };

            btnSub20C.onclick = function() {
                $.post("cyclServer.php", {
                    sub20C: true
                });
            };

            btnSubmit.onclick = function() {
                $.post("cyclServer.php", {
                    submit: true,
                    spect1: spect1.value,
                    spect2: spect2.value,
                    spect3: spect3.value,
                });
            }

            btnReset.onclick = function() {
                $.post("cyclServer.php", {
                    play: true,
                    option: 0,
                    teamA: 0,
                    teamB: 0,
                    teamC: 0,
                    timer: "-1",
                    lock: true,
                    sfx: null,
                    solution: false,
                    mode: "leads",
                    lead: 0,
                    category: "mandatory",
                    mandatory: 1,
                    general: 1
                });
            }

            function updateState(response) {
                width = $(window).width();
                playing = response[5].value;
                locked = response[9].value;
                turn = response[10].value[0];

                imgSolucion1.src = "media/solutions/cycl/mandatory/" + response[3].value[0] + ".png";
                imgSolucion2.src = "media/solutions/cycl/general/" + response[4].value[0] + ".png";
                if (response[2].value == "mandatory") {
                    imgSolucion3.src = "media/solutions/cycl/mandatory/" + response[3].value[0] + ".png";
                } else if (response[2].value == "general") {
                    imgSolucion3.src = "media/solutions/cycl/general/" + response[4].value[0] + ".png";
                }
                if (response[2].value == "mandatory") {
                    liCategoria.innerHTML = "Obligatoria";
                    liPregunta.innerHTML = response[3].value[0];
                } else if (response[2].value == "general") {
                    liCategoria.innerHTML = "Cultura General";
                    liPregunta.innerHTML = response[4].value[0];
                }
                liObligatorias.innerHTML = response[3].value[1] - response[3].value[0];
                liGenerales.innerHTML = response[4].value[1] - response[4].value[0];

                if (width < 575.98) {
                    if (playing == false) {
                        btnPlayPregO.innerHTML = '<i class="fas fa-play"></i>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-play"></i>';
                    } else {
                        btnPlayPregO.innerHTML = '<i class="fas fa-pause"></i>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-pause"></i>';
                    }
                } else {
                    if (playing == false) {
                        btnPlayPregO.innerHTML = '<i class="fas fa-play"></i><span> Reproducir</span>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-play"></i><span> Reproducir</span>';
                    } else {
                        btnPlayPregO.innerHTML = '<i class="fas fa-pause"></i><span> Pausar</span>';
                        btnPlayPregG.innerHTML = '<i class="fas fa-pause"></i><span> Pausar</span>';
                    }
                }

                if (response[6].value > 0) {
                    liTiempo.innerHTML = response[6].value;
                } else {
                    liTiempo.innerHTML = 0;
                }

                if (response[7].value == 13 || response[7].value == 14) {
                    liOpcion.innerHTML = 1;
                } else if (response[7].value == 23 || response[7].value == 24) {
                    liOpcion.innerHTML = 2;
                } else if (response[7].value == 33 || response[7].value == 34) {
                    liOpcion.innerHTML = 3;
                } else if (response[7].value == 44) {
                    liOpcion.innerHTML = 4;
                } else {
                    liOpcion.innerHTML = "ninguna";
                }

                if (width < 575.98) {
                    if (locked == false) {
                        btnBloquear.innerHTML = '<i class="fas fa-lock-open"></i>';
                    } else {
                        btnBloquear.innerHTML = '<i class="fas fa-lock"></i>';
                    }
                } else {
                    if (locked == false) {
                        btnBloquear.innerHTML = '<i class="fas fa-lock-open"></i><span> Bloquear pulsadores</span>';
                    } else {
                        btnBloquear.innerHTML = '<i class="fas fa-lock"></i><span> Desbloquear pulsadores</span>';
                    }
                }

                if (turn == "a") {
                    btnIncorrectaA.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                } else if (turn == "b") {
                    btnIncorrectaB.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                } else if (turn == "c") {
                    btnIncorrectaC.innerHTML = '<i class="fas fa-times-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="fas fa-dot-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                } else {
                    btnTurnoA.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnTurnoB.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnTurnoC.innerHTML = '<i class="far fa-dot-circle"></i>';
                    btnCorrectaA.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnCorrectaB.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnCorrectaC.innerHTML = '<i class="far fa-check-circle"></i>';
                    btnIncorrectaA.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnIncorrectaB.innerHTML = '<i class="far fa-times-circle"></i>';
                    btnIncorrectaC.innerHTML = '<i class="far fa-times-circle"></i>';
                }

                if (turn == "a") {
                    liTurno1.innerHTML = response[11].value[0];
                } else if (turn == "b") {
                    liTurno1.innerHTML = response[12].value[0];
                } else if (turn == "c") {
                    liTurno1.innerHTML = response[13].value[0];
                } else {
                    liTurno1.innerHTML = "ninguno";
                }
                if (response[10].value[1] == "a") {
                    liTurno2.innerHTML = ", " + response[11].value[0];
                } else if (response[10].value[1] == "b") {
                    liTurno2.innerHTML = ", " + response[12].value[0];
                } else if (response[10].value[1] == "c") {
                    liTurno2.innerHTML = ", " + response[13].value[0];
                } else {
                    liTurno2.innerHTML = "";
                }
                if (response[10].value[2] == "a") {
                    liTurno3.innerHTML = ", " + response[11].value[0];
                } else if (response[10].value[2] == "b") {
                    liTurno3.innerHTML = ", " + response[12].value[0];
                } else if (response[10].value[2] == "c") {
                    liTurno3.innerHTML = ", " + response[13].value[0];
                } else {
                    liTurno3.innerHTML = "";
                }

                if (response[11].value[0] != "") {
                    liEquipoA.innerHTML = response[11].value[0] + ": ";
                }
                if (response[12].value[0] != "") {
                    liEquipoB.innerHTML = response[12].value[0] + ": ";
                }
                if (response[13].value[0] != "") {
                    liEquipoB.innerHTML = response[13].value[0] + ": ";
                }
                liScoreA.innerHTML = response[11].value[1];
                liScoreB.innerHTML = response[12].value[1];
                liScoreC.innerHTML = response[13].value[1];

                liEspect1.innerHTML = response[15].value[0];
                liEspect2.innerHTML = response[15].value[1];
                liEspect3.innerHTML = response[15].value[2];
            }
        </script>
</body>

</html>
